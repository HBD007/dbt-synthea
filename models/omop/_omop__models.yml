version: 2

models:
  - name: person
    columns:
      - name: person_id
        description: "A unique identifier for each person."
        tests:
          - unique
          - not_null
      - name: gender_concept_id
        tests:
          - not_null
      - name: year_of_birth
        description: "The year of birth of the person."
        tests:
          - not_null
      - name: month_of_birth
        description: "The month of birth of the person."
      - name: day_of_birth
        description: "The day of birth of the person."
      - name: birth_datetime
        description: "The date and time of birth of the person."
      - name: race_concept_id
        tests:
          - not_null
      - name: ethnicity_concept_id
        tests:
          - not_null
      - name: location_id
        description: "A foreign key to the location table."
      - name: provider_id
        description: "A foreign key to the provider table."
      - name: care_site_id
        description: "A foreign key to the care site table."
      - name: person_source_value
      - name: gender_source_value
      - name: gender_source_concept_id
      - name: race_source_value
      - name: race_source_concept_id
      - name: ethnicity_source_value
      - name: ethnicity_source_concept_id
  
  - name: condition_occurrence
    columns:
      - name: condition_occurrence_id
        description: "A unique identifier for each condition occurrence."
        tests:
          - unique
          - not_null
      - name: person_id
        description: "A foreign key to the person table."
        tests:
          - not_null
      - name: condition_concept_id
        tests:
          - not_null
      - name: condition_start_date
        description: "The date when the condition started."
        tests:
          - not_null
      - name: condition_end_date
        description: "The date when the condition ended."
      - name: condition_type_concept_id
        tests:
          - not_null
      - name: condition_source_value
      - name: condition_source_concept_id

  - name: drug_exposure
    columns:
      - name: drug_exposure_id
        description: "A unique identifier for each drug exposure."
        tests:
          - unique
          - not_null
      - name: person_id
        description: "A foreign key to the person table."
        tests:
          - not_null
      - name: drug_concept_id
        tests:
          - not_null
      - name: drug_exposure_start_date
        description: "The date when the drug exposure started."
        tests:
          - not_null
      - name: drug_exposure_end_date
        description: "The date when the drug exposure ended."
      - name: drug_type_concept_id
        tests:
          - not_null
      - name: drug_source_value
      - name: drug_source_concept_id

  - name: measurement
    columns:
      - name: measurement_id
        description: "A unique identifier for each measurement."
        tests:
          - unique
          - not_null
      - name: person_id
        description: "A foreign key to the person table."
        tests:
          - not_null
      - name: measurement_concept_id
        tests:
          - not_null
      - name: measurement_date
        description: "The date when the measurement was taken."
        tests:
          - not_null
      - name: measurement_type_concept_id
        tests:
          - not_null
      - name: measurement_source_value
      - name: measurement_source_concept_id

  - name: observation
    columns:
      - name: observation_id
        description: "A unique identifier for each observation."
        tests:
          - unique
          - not_null
      - name: person_id
        description: "A foreign key to the person table."
        tests:
          - not_null
      - name: observation_concept_id
        tests:
          - not_null
      - name: observation_date
        description: "The date when the observation was made."
        tests:
          - not_null
      - name: observation_type_concept_id
        tests:
          - not_null
      - name: observation_source_value
      - name: observation_source_concept_id

  - name: procedure_occurrence
    columns:
      - name: procedure_occurrence_id
        description: "A unique identifier for each procedure occurrence."
        tests:
          - unique
          - not_null
      - name: person_id
        description: "A foreign key to the person table."
        tests:
          - not_null
      - name: procedure_concept_id
        tests:
          - not_null
      - name: procedure_date
        description: "The date when the procedure was performed."
        tests:
          - not_null
      - name: procedure_type_concept_id
        tests:
          - not_null
      - name: procedure_source_value
      - name: procedure_source_concept_id

  - name: visit_occurrence
    columns:
      - name: visit_occurrence_id
        description: "A unique identifier for each visit occurrence."
        tests:
          - unique
          - not_null
      - name: person_id
        description: "A foreign key to the person table."
        tests:
          - not_null
      - name: visit_concept_id
        tests:
          - not_null
      - name: visit_start_date
        description: "The date when the visit started."
        tests:
          - not_null
      - name: visit_end_date
        description: "The date when the visit ended."
      - name: visit_type_concept_id
        tests:
          - not_null
      - name: visit_source_value
      - name: visit_source_concept_id
